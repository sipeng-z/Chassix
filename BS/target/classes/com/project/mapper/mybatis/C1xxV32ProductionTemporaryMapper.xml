<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.mapper.mybatis.C1xxV32ProductionTemporaryMapper">
  <resultMap id="BaseResultMap" type="com.project.domain.entity.C1xxV32ProductionTemporary">
    <id column="Temporary_id" jdbcType="CHAR" property="temporaryId" />
    <result column="Date_String" jdbcType="VARCHAR" property="dateString" />
    <result column="RecordNO" jdbcType="INTEGER" property="recordno" />
    <result column="Created_User_Id" jdbcType="VARCHAR" property="createdUserId" />
    <result column="Created_Time" jdbcType="TIMESTAMP" property="createdTime" />
    <result column="Is_Production" jdbcType="INTEGER" property="isProduction" />
    <result column="Operator" jdbcType="VARCHAR" property="operator" />
    <result column="Description" jdbcType="VARCHAR" property="description" />
    <result column="mark" jdbcType="INTEGER" property="mark" />
  </resultMap>



  <resultMap id="GeneralMap" type="com.project.domain.entity.GeneralProductionTemporary">
    <id column="Temporary_id" jdbcType="CHAR" property="temporaryId" />
    <result column="Date_String" jdbcType="VARCHAR" property="dateString" />
    <result column="RecordNO" jdbcType="INTEGER" property="recordno" />
    <result column="Created_User_Id" jdbcType="VARCHAR" property="createdUserId" />
    <result column="Created_Time" jdbcType="TIMESTAMP" property="createdTime" />
    <result column="Is_Production" jdbcType="INTEGER" property="isProduction" />
    <result column="Operator" jdbcType="VARCHAR" property="operator" />
    <result column="Description" jdbcType="VARCHAR" property="description" />
    <result column="mark" jdbcType="INTEGER" property="mark" />
  </resultMap>


  <resultMap id="ImpressiveMap" type="com.project.domain.entity.GeneralImpressive">

    <result column="min" jdbcType="VARCHAR" property="min" />
    <result column="max" jdbcType="VARCHAR" property="max" />

  </resultMap>





  <sql id="Base_Column_List">
    Temporary_id, Date_String, RecordNO, Created_User_Id, Created_Time, Is_Production, 
    Operator, Description, mark
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from dbo.Machining_V32_Production_Temporary
    where Temporary_id = #{temporaryId,jdbcType=CHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    delete from dbo.Machining_V32_Production_Temporary
    where Temporary_id = #{temporaryId,jdbcType=CHAR}
  </delete>
  <insert id="insert" parameterType="com.project.domain.entity.C1xxV32ProductionTemporary">
    insert into dbo.Machining_V32_Production_Temporary (Temporary_id, Date_String, RecordNO, 
      Created_User_Id, Created_Time, Is_Production, 
      Operator, Description, mark
      )
    values (#{temporaryId,jdbcType=CHAR}, #{dateString,jdbcType=VARCHAR}, #{recordno,jdbcType=INTEGER}, 
      #{createdUserId,jdbcType=VARCHAR}, #{createdTime,jdbcType=TIMESTAMP}, #{isProduction,jdbcType=INTEGER}, 
      #{operator,jdbcType=VARCHAR}, #{description,jdbcType=VARCHAR}, #{mark,jdbcType=INTEGER}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.project.domain.entity.C1xxV32ProductionTemporary">
    insert into dbo.Machining_V32_Production_Temporary
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="temporaryId != null">
        Temporary_id,
      </if>
      <if test="dateString != null">
        Date_String,
      </if>
      <if test="recordno != null">
        RecordNO,
      </if>
      <if test="createdUserId != null">
        Created_User_Id,
      </if>
      <if test="createdTime != null">
        Created_Time,
      </if>
      <if test="isProduction != null">
        Is_Production,
      </if>
      <if test="operator != null">
        Operator,
      </if>
      <if test="description != null">
        Description,
      </if>
      <if test="mark != null">
        mark,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="temporaryId != null">
        #{temporaryId,jdbcType=CHAR},
      </if>
      <if test="dateString != null">
        #{dateString,jdbcType=VARCHAR},
      </if>
      <if test="recordno != null">
        #{recordno,jdbcType=INTEGER},
      </if>
      <if test="createdUserId != null">
        #{createdUserId,jdbcType=VARCHAR},
      </if>
      <if test="createdTime != null">
        #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isProduction != null">
        #{isProduction,jdbcType=INTEGER},
      </if>
      <if test="operator != null">
        #{operator,jdbcType=VARCHAR},
      </if>
      <if test="description != null">
        #{description,jdbcType=VARCHAR},
      </if>
      <if test="mark != null">
        #{mark,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.project.domain.entity.C1xxV32ProductionTemporary">
    update dbo.Machining_V32_Production_Temporary
    <set>
      <if test="dateString != null">
        Date_String = #{dateString,jdbcType=VARCHAR},
      </if>
      <if test="recordno != null">
        RecordNO = #{recordno,jdbcType=INTEGER},
      </if>
      <if test="createdUserId != null">
        Created_User_Id = #{createdUserId,jdbcType=VARCHAR},
      </if>
      <if test="createdTime != null">
        Created_Time = #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isProduction != null">
        Is_Production = #{isProduction,jdbcType=INTEGER},
      </if>
      <if test="operator != null">
        Operator = #{operator,jdbcType=VARCHAR},
      </if>
      <if test="description != null">
        Description = #{description,jdbcType=VARCHAR},
      </if>
      <if test="mark != null">
        mark = #{mark,jdbcType=INTEGER},
      </if>
    </set>
    where Temporary_id = #{temporaryId,jdbcType=CHAR}
  </update>

  <update id="updateByPrimaryKey" parameterType="com.project.domain.entity.C1xxV32ProductionTemporary">
    update dbo.Machining_V32_Production_Temporary
    set Date_String = #{dateString,jdbcType=VARCHAR},
      RecordNO = #{recordno,jdbcType=INTEGER},
      Created_User_Id = #{createdUserId,jdbcType=VARCHAR},
      Created_Time = #{createdTime,jdbcType=TIMESTAMP},
      Is_Production = #{isProduction,jdbcType=INTEGER},
      Operator = #{operator,jdbcType=VARCHAR},
      Description = #{description,jdbcType=VARCHAR},
      mark = #{mark,jdbcType=INTEGER}
    where Temporary_id = #{temporaryId,jdbcType=CHAR}
  </update>







  <!-- tableName -->
  <sql id="tableName">
    dbo.Machining_V32_Production_Temporary
  </sql>
  <!-- tableNameOut -->
  <sql id="tableNameOut">
    <bind name="tableName" value="'Machining_V32_Production_Temporary'"/>
  </sql>
  <!-- pkId -->
  <sql id="pkId">
    <bind name="pkName" value="'Temporary_id'"/>
  </sql>

  <!--list-->
  <select id="list" resultMap="GeneralMap" parameterType="com.domain.model.PageData">
    SELECT
    <include refid="Base_Column_List"></include>
    FROM
    <include refid="tableName"></include>
    WHERE 1 = 1
    <include refid="PmBasicMapper.retrieveSql"></include>
    order by Date_String DESC
  </select>

  <!--impressive-->
  <select id="impressive" resultMap="ImpressiveMap" parameterType="com.domain.model.PageData">
    SELECT
    min(RecordNO) as 'min' , max(RecordNO) as 'max'
    FROM
    <include refid="tableName"></include>
    WHERE 1 = 1
    <include refid="PmBasicMapper.retrieveSql"></include>
    GROUP BY Created_Time

  </select>

  <delete id="stopProduction" parameterType="com.domain.model.PageData">
    delete from dbo.Machining_V32_Production_Temporary
    WHERE 1 = 1
      AND Date_String >= #{DateString,jdbcType=VARCHAR}
      AND RecordNO >= #{RecordNO,jdbcType=VARCHAR}
  </delete>





  <update id="updateByTemporaryId" parameterType="com.domain.model.PageData">
    update
    <include refid="tableName"></include>
    <set>
      <if test="dateString != null">
        Date_String = #{dateString,jdbcType=VARCHAR},
      </if>
      <if test="recordno != null">
        RecordNO = #{recordno,jdbcType=INTEGER},
      </if>
      <if test="createdUserId != null">
        Created_User_Id = #{createdUserId,jdbcType=VARCHAR},
      </if>
      <if test="createdTime != null">
        Created_Time = #{createdTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isProduction != null">
        Is_Production = #{isProduction,jdbcType=INTEGER},
      </if>
      <if test="operator != null">
        Operator = #{operator,jdbcType=VARCHAR},
      </if>
      <if test="description != null">
        Description = #{description,jdbcType=VARCHAR},
      </if>
      <if test="mark != null">
        mark = #{mark,jdbcType=INTEGER},
      </if>
    </set>
    where Temporary_id = #{temporaryId,jdbcType=CHAR}
  </update>









</mapper>