<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.system.mapper.mybatis.UsersMapper">
  <resultMap id="BaseResultMap" type="com.system.domain.model.output.UsersOutput">
    <id column="user_id" jdbcType="VARCHAR" property="userId" />
    <result column="tenant_id" jdbcType="VARCHAR" property="tenantId" />
    <result column="account" jdbcType="VARCHAR" property="account" />
    <result column="password" jdbcType="VARCHAR" property="password" />
    <result column="user_type" jdbcType="CHAR" property="userType" />
    <result column="administrator_level" jdbcType="INTEGER" property="administratorLevel" />
    <result column="user_no" jdbcType="VARCHAR" property="userNo" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="nick_name" jdbcType="VARCHAR" property="nickName" />
    <result column="organization_units_id" jdbcType="VARCHAR" property="organizationUnitsId" />
    <result column="organization_units_no" jdbcType="VARCHAR" property="organizationUnitsNo" />
    <result column="organization_units_name" jdbcType="VARCHAR" property="organizationUnitsName" />
    <result column="department_id" jdbcType="VARCHAR" property="departmentId" />
    <result column="department_no" jdbcType="VARCHAR" property="departmentNo" />
    <result column="department_name" jdbcType="VARCHAR" property="departmentName" />
    <result column="station_id" jdbcType="VARCHAR" property="stationId" />
    <result column="station_no" jdbcType="VARCHAR" property="stationNo" />
    <result column="station_name" jdbcType="VARCHAR" property="stationName" />
    <result column="job_id" jdbcType="VARCHAR" property="jobId" />
    <result column="job_no" jdbcType="VARCHAR" property="jobNo" />
    <result column="job_name" jdbcType="VARCHAR" property="jobName" />
    <result column="mobile" jdbcType="VARCHAR" property="mobile" />
    <result column="tele_phone" jdbcType="VARCHAR" property="telePhone" />
    <result column="email" jdbcType="VARCHAR" property="email" />
    <result column="sex" jdbcType="INTEGER" property="sex" />
    <result column="avatar" jdbcType="VARCHAR" property="avatar" />
    <result column="id_type" jdbcType="INTEGER" property="idType" />
    <result column="id_number" jdbcType="VARCHAR" property="idNumber" />
    <result column="id_attachment" jdbcType="VARCHAR" property="idAttachment" />
    <result column="salt" jdbcType="CHAR" property="salt" />
    <result column="theme" jdbcType="VARCHAR" property="theme" />
    <result column="language" jdbcType="VARCHAR" property="language" />
    <result column="join_date" jdbcType="TIMESTAMP" property="joinDate" />
    <result column="reg_ip" jdbcType="VARCHAR" property="regIp" />
    <result column="login_count" jdbcType="INTEGER" property="loginCount" />
    <result column="last_login_time" jdbcType="TIMESTAMP" property="lastLoginTime" />
    <result column="last_login_ip" jdbcType="VARCHAR" property="lastLoginIp" />
    <result column="is_allow_delete" jdbcType="INTEGER" property="isAllowDelete" />
    <result column="display_order" jdbcType="INTEGER" property="displayOrder" />
    <result column="state" jdbcType="INTEGER" property="state" />
    <result column="created_user_id" jdbcType="VARCHAR" property="createdUserId" />
    <result column="created_user_name" jdbcType="VARCHAR" property="createdUserName" />
    <result column="created_date_time" jdbcType="TIMESTAMP" property="createdDateTime" />
    <result column="last_updated_user_id" jdbcType="VARCHAR" property="lastUpdatedUserId" />
    <result column="last_updated_user_name" jdbcType="VARCHAR" property="lastUpdatedUserName" />
    <result column="last_updated_date_time" jdbcType="TIMESTAMP" property="lastUpdatedDateTime" />
    <result column="audit_state" jdbcType="INTEGER" property="auditState" />
    <result column="audit_user_id" jdbcType="VARCHAR" property="auditUserId" />
    <result column="audit_user_name" jdbcType="VARCHAR" property="auditUserName" />
    <result column="audit_date_time" jdbcType="TIMESTAMP" property="auditDateTime" />
    <result column="is_deleted" jdbcType="INTEGER" property="isDeleted" />
    <result column="hr_state" jdbcType="INTEGER" property="hrState" />
  </resultMap>
  <sql id="Base_Column_List">
     user_id, tenant_id, account, password, user_type, administrator_level, user_no,
    name, nick_name, organization_units_id, organization_units_no, organization_units_name,
    department_id, department_no, department_name, station_id, station_no, station_name,
    job_id, job_no, job_name, mobile, tele_phone, email, sex, avatar, id_type, id_number,
    id_attachment, salt, theme, language, join_date, reg_ip, login_count, last_login_time,
    last_login_ip, is_allow_delete, display_order, state, created_user_id, created_user_name,
    created_date_time, last_updated_user_id, last_updated_user_name, last_updated_date_time,
    audit_state, audit_user_id, audit_user_name, audit_date_time, is_deleted,hr_state
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from system_users
    where user_id = #{userId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    delete from system_users
    where user_id = #{userId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.system.domain.entity.Users">
    insert into system_users (user_id, tenant_id,
      account, password, user_type,
      administrator_level, user_no, name,
      nick_name, organization_units_id, organization_units_no,
      organization_units_name, department_id, department_no,
      department_name, station_id, station_no,
      station_name, job_id, job_no,
      job_name, mobile, tele_phone,
      email, sex, avatar,
      id_type, id_number, id_attachment,
      salt, theme, language,
      join_date, reg_ip, login_count,
      last_login_time, last_login_ip, is_allow_delete,
      display_order, state, created_user_id,
      created_user_name, created_date_time, last_updated_user_id,
      last_updated_user_name, last_updated_date_time,
      audit_state, audit_user_id, audit_user_name,
      audit_date_time, is_deleted,hr_state)
    values (#{userId,jdbcType=VARCHAR}, #{tenantId,jdbcType=VARCHAR},
      #{account,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR}, #{userType,jdbcType=CHAR},
      #{administratorLevel,jdbcType=INTEGER}, #{userNo,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR},
      #{nickName,jdbcType=VARCHAR}, #{organizationUnitsId,jdbcType=VARCHAR}, #{organizationUnitsNo,jdbcType=VARCHAR},
      #{organizationUnitsName,jdbcType=VARCHAR}, #{departmentId,jdbcType=VARCHAR}, #{departmentNo,jdbcType=VARCHAR},
      #{departmentName,jdbcType=VARCHAR}, #{stationId,jdbcType=VARCHAR}, #{stationNo,jdbcType=VARCHAR},
      #{stationName,jdbcType=VARCHAR}, #{jobId,jdbcType=VARCHAR}, #{jobNo,jdbcType=VARCHAR},
      #{jobName,jdbcType=VARCHAR}, #{mobile,jdbcType=VARCHAR}, #{telePhone,jdbcType=VARCHAR},
      #{email,jdbcType=VARCHAR}, #{sex,jdbcType=INTEGER}, #{avatar,jdbcType=VARCHAR},
      #{idType,jdbcType=INTEGER}, #{idNumber,jdbcType=VARCHAR}, #{idAttachment,jdbcType=VARCHAR},
      #{salt,jdbcType=CHAR}, #{theme,jdbcType=VARCHAR}, #{language,jdbcType=VARCHAR},
      #{joinDate,jdbcType=TIMESTAMP}, #{regIp,jdbcType=VARCHAR}, #{loginCount,jdbcType=INTEGER},
      #{lastLoginTime,jdbcType=TIMESTAMP}, #{lastLoginIp,jdbcType=VARCHAR}, #{isAllowDelete,jdbcType=INTEGER},
      #{displayOrder,jdbcType=INTEGER}, #{state,jdbcType=INTEGER}, #{createdUserId,jdbcType=VARCHAR},
      #{createdUserName,jdbcType=VARCHAR}, #{createdDateTime,jdbcType=TIMESTAMP}, #{lastUpdatedUserId,jdbcType=VARCHAR},
      #{lastUpdatedUserName,jdbcType=VARCHAR}, #{lastUpdatedDateTime,jdbcType=TIMESTAMP},
      #{auditState,jdbcType=INTEGER}, #{auditUserId,jdbcType=VARCHAR}, #{auditUserName,jdbcType=VARCHAR},
      #{auditDateTime,jdbcType=TIMESTAMP}, #{isDeleted,jdbcType=INTEGER},#{hrState,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.system.domain.entity.Users">
    insert into system_users
    <trim prefix="(" suffix=")" suffixOverrides=",">

      <if test="userId != null">
        user_id,
      </if>
      <if test="tenantId != null">
        tenant_id,
      </if>
      <if test="account != null">
        account,
      </if>
      <if test="password != null">
        password,
      </if>
      <if test="userType != null">
        user_type,
      </if>
      <if test="administratorLevel != null">
        administrator_level,
      </if>
      <if test="userNo != null">
        user_no,
      </if>
      <if test="name != null">
        name,
      </if>
      <if test="nickName != null">
        nick_name,
      </if>
      <if test="organizationUnitsId != null">
        organization_units_id,
      </if>
      <if test="organizationUnitsNo != null">
        organization_units_no,
      </if>
      <if test="organizationUnitsName != null">
        organization_units_name,
      </if>
      <if test="departmentId != null">
        department_id,
      </if>
      <if test="departmentNo != null">
        department_no,
      </if>
      <if test="departmentName != null">
        department_name,
      </if>
      <if test="stationId != null">
        station_id,
      </if>
      <if test="stationNo != null">
        station_no,
      </if>
      <if test="stationName != null">
        station_name,
      </if>
      <if test="jobId != null">
        job_id,
      </if>
      <if test="jobNo != null">
        job_no,
      </if>
      <if test="jobName != null">
        job_name,
      </if>
      <if test="mobile != null">
        mobile,
      </if>
      <if test="telePhone != null">
        tele_phone,
      </if>
      <if test="email != null">
        email,
      </if>
      <if test="sex != null">
        sex,
      </if>
      <if test="avatar != null">
        avatar,
      </if>
      <if test="idType != null">
        id_type,
      </if>
      <if test="idNumber != null">
        id_number,
      </if>
      <if test="idAttachment != null">
        id_attachment,
      </if>
      <if test="salt != null">
        salt,
      </if>
      <if test="theme != null">
        theme,
      </if>
      <if test="language != null">
        language,
      </if>
      <if test="joinDate != null">
        join_date,
      </if>
      <if test="regIp != null">
        reg_ip,
      </if>
      <if test="loginCount != null">
        login_count,
      </if>
      <if test="lastLoginTime != null">
        last_login_time,
      </if>
      <if test="lastLoginIp != null">
        last_login_ip,
      </if>
      <if test="isAllowDelete != null">
        is_allow_delete,
      </if>
      <if test="displayOrder != null">
        display_order,
      </if>
      <if test="state != null">
        state,
      </if>
      <if test="createdUserId != null">
        created_user_id,
      </if>
      <if test="createdUserName != null">
        created_user_name,
      </if>
      <if test="createdDateTime != null">
        created_date_time,
      </if>
      <if test="lastUpdatedUserId != null">
        last_updated_user_id,
      </if>
      <if test="lastUpdatedUserName != null">
        last_updated_user_name,
      </if>
      <if test="lastUpdatedDateTime != null">
        last_updated_date_time,
      </if>
      <if test="auditState != null">
        audit_state,
      </if>
      <if test="auditUserId != null">
        audit_user_id,
      </if>
      <if test="auditUserName != null">
        audit_user_name,
      </if>
      <if test="auditDateTime != null">
        audit_date_time,
      </if>
      <if test="isDeleted != null">
        is_deleted,
      </if>
      <if test="hrState != null">
        hr_state,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">

      <if test="userId != null">
        #{userId,jdbcType=VARCHAR},
      </if>
      <if test="tenantId != null">
        #{tenantId,jdbcType=VARCHAR},
      </if>
      <if test="account != null">
        #{account,jdbcType=VARCHAR},
      </if>
      <if test="password != null">
        #{password,jdbcType=VARCHAR},
      </if>
      <if test="userType != null">
        #{userType,jdbcType=CHAR},
      </if>
      <if test="administratorLevel != null">
        #{administratorLevel,jdbcType=INTEGER},
      </if>
      <if test="userNo != null">
        #{userNo,jdbcType=VARCHAR},
      </if>
      <if test="name != null">
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="nickName != null">
        #{nickName,jdbcType=VARCHAR},
      </if>
      <if test="organizationUnitsId != null">
        #{organizationUnitsId,jdbcType=VARCHAR},
      </if>
      <if test="organizationUnitsNo != null">
        #{organizationUnitsNo,jdbcType=VARCHAR},
      </if>
      <if test="organizationUnitsName != null">
        #{organizationUnitsName,jdbcType=VARCHAR},
      </if>
      <if test="departmentId != null">
        #{departmentId,jdbcType=VARCHAR},
      </if>
      <if test="departmentNo != null">
        #{departmentNo,jdbcType=VARCHAR},
      </if>
      <if test="departmentName != null">
        #{departmentName,jdbcType=VARCHAR},
      </if>
      <if test="stationId != null">
        #{stationId,jdbcType=VARCHAR},
      </if>
      <if test="stationNo != null">
        #{stationNo,jdbcType=VARCHAR},
      </if>
      <if test="stationName != null">
        #{stationName,jdbcType=VARCHAR},
      </if>
      <if test="jobId != null">
        #{jobId,jdbcType=VARCHAR},
      </if>
      <if test="jobNo != null">
        #{jobNo,jdbcType=VARCHAR},
      </if>
      <if test="jobName != null">
        #{jobName,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null">
        #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="telePhone != null">
        #{telePhone,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="sex != null">
        #{sex,jdbcType=INTEGER},
      </if>
      <if test="avatar != null">
        #{avatar,jdbcType=VARCHAR},
      </if>
      <if test="idType != null">
        #{idType,jdbcType=INTEGER},
      </if>
      <if test="idNumber != null">
        #{idNumber,jdbcType=VARCHAR},
      </if>
      <if test="idAttachment != null">
        #{idAttachment,jdbcType=VARCHAR},
      </if>
      <if test="salt != null">
        #{salt,jdbcType=CHAR},
      </if>
      <if test="theme != null">
        #{theme,jdbcType=VARCHAR},
      </if>
      <if test="language != null">
        #{language,jdbcType=VARCHAR},
      </if>
      <if test="joinDate != null">
        #{joinDate,jdbcType=TIMESTAMP},
      </if>
      <if test="regIp != null">
        #{regIp,jdbcType=VARCHAR},
      </if>
      <if test="loginCount != null">
        #{loginCount,jdbcType=INTEGER},
      </if>
      <if test="lastLoginTime != null">
        #{lastLoginTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastLoginIp != null">
        #{lastLoginIp,jdbcType=VARCHAR},
      </if>
      <if test="isAllowDelete != null">
        #{isAllowDelete,jdbcType=INTEGER},
      </if>
      <if test="displayOrder != null">
        #{displayOrder,jdbcType=INTEGER},
      </if>
      <if test="state != null">
        #{state,jdbcType=INTEGER},
      </if>
      <if test="createdUserId != null">
        #{createdUserId,jdbcType=INTEGER},
      </if>
      <if test="createdUserName != null">
        #{createdUserName,jdbcType=VARCHAR},
      </if>
      <if test="createdDateTime != null">
        #{createdDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastUpdatedUserId != null">
        #{lastUpdatedUserId,jdbcType=VARCHAR},
      </if>
      <if test="lastUpdatedUserName != null">
        #{lastUpdatedUserName,jdbcType=VARCHAR},
      </if>
      <if test="lastUpdatedDateTime != null">
        #{lastUpdatedDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="auditState != null">
        #{auditState,jdbcType=INTEGER},
      </if>
      <if test="auditUserId != null">
        #{auditUserId,jdbcType=VARCHAR},
      </if>
      <if test="auditUserName != null">
        #{auditUserName,jdbcType=VARCHAR},
      </if>
      <if test="auditDateTime != null">
        #{auditDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isDeleted != null">
        #{isDeleted,jdbcType=INTEGER},
      </if>
      <if test="hrState != null">
        #{hrState,jdbcType=INTEGER},
      </if>

    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.system.domain.model.input.UsersInput">
    update system_users
    <set>

      <if test="tenantId != null">
        tenant_id = #{tenantId,jdbcType=VARCHAR},
      </if>
      <if test="account != null">
        account = #{account,jdbcType=VARCHAR},
      </if>
      <if test="password != null">
        password = #{password,jdbcType=VARCHAR},
      </if>
      <if test="userType != null">
        user_type = #{userType,jdbcType=CHAR},
      </if>
      <if test="administratorLevel != null">
        administrator_level = #{administratorLevel,jdbcType=INTEGER},
      </if>
      <if test="userNo != null">
        user_no = #{userNo,jdbcType=VARCHAR},
      </if>
      <if test="name != null">
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="nickName != null">
        nick_name = #{nickName,jdbcType=VARCHAR},
      </if>
      <if test="organizationUnitsId != null">
        organization_units_id = #{organizationUnitsId,jdbcType=VARCHAR},
      </if>
      <if test="organizationUnitsNo != null">
        organization_units_no = #{organizationUnitsNo,jdbcType=VARCHAR},
      </if>
      <if test="organizationUnitsName != null">
        organization_units_name = #{organizationUnitsName,jdbcType=VARCHAR},
      </if>
      <if test="departmentId != null">
        department_id = #{departmentId,jdbcType=VARCHAR},
      </if>
      <if test="departmentNo != null">
        department_no = #{departmentNo,jdbcType=VARCHAR},
      </if>
      <if test="departmentName != null">
        department_name = #{departmentName,jdbcType=VARCHAR},
      </if>
      <if test="stationId != null">
        station_id = #{stationId,jdbcType=VARCHAR},
      </if>
      <if test="stationNo != null">
        station_no = #{stationNo,jdbcType=VARCHAR},
      </if>
      <if test="stationName != null">
        station_name = #{stationName,jdbcType=VARCHAR},
      </if>
      <if test="jobId != null">
        job_id = #{jobId,jdbcType=VARCHAR},
      </if>
      <if test="jobNo != null">
        job_no = #{jobNo,jdbcType=VARCHAR},
      </if>
      <if test="jobName != null">
        job_name = #{jobName,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null">
        mobile = #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="telePhone != null">
        tele_phone = #{telePhone,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        email = #{email,jdbcType=VARCHAR},
      </if>
      <if test="sex != null">
        sex = #{sex,jdbcType=INTEGER},
      </if>
      <if test="avatar != null">
        avatar = #{avatar,jdbcType=VARCHAR},
      </if>
      <if test="idType != null">
        id_type = #{idType,jdbcType=INTEGER},
      </if>
      <if test="idNumber != null">
        id_number = #{idNumber,jdbcType=VARCHAR},
      </if>
      <if test="idAttachment != null">
        id_attachment = #{idAttachment,jdbcType=VARCHAR},
      </if>
      <if test="salt != null">
        salt = #{salt,jdbcType=CHAR},
      </if>
      <if test="theme != null">
        theme = #{theme,jdbcType=VARCHAR},
      </if>
      <if test="language != null">
        language = #{language,jdbcType=VARCHAR},
      </if>
      <if test="joinDate != null">
        join_date = #{joinDate,jdbcType=TIMESTAMP},
      </if>
      <if test="regIp != null">
        reg_ip = #{regIp,jdbcType=VARCHAR},
      </if>
      <if test="loginCount != null">
        login_count = #{loginCount,jdbcType=INTEGER},
      </if>
      <if test="lastLoginTime != null">
        last_login_time = #{lastLoginTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastLoginIp != null">
        last_login_ip = #{lastLoginIp,jdbcType=VARCHAR},
      </if>
      <if test="isAllowDelete != null">
        is_allow_delete = #{isAllowDelete,jdbcType=INTEGER},
      </if>
      <if test="displayOrder != null">
        display_order = #{displayOrder,jdbcType=INTEGER},
      </if>
      <if test="state != null">
        state = #{state,jdbcType=INTEGER},
      </if>
      <if test="createdUserId != null">
        created_user_id = #{createdUserId,jdbcType=VARCHAR},
      </if>
      <if test="createdUserName != null">
        created_user_name = #{createdUserName,jdbcType=VARCHAR},
      </if>
      <if test="createdDateTime != null">
        created_date_time = #{createdDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastUpdatedUserId != null">
        last_updated_user_id = #{lastUpdatedUserId,jdbcType=VARCHAR},
      </if>
      <if test="lastUpdatedUserName != null">
        last_updated_user_name = #{lastUpdatedUserName,jdbcType=VARCHAR},
      </if>
      <if test="lastUpdatedDateTime != null">
        last_updated_date_time = #{lastUpdatedDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="auditState != null">
        audit_state = #{auditState,jdbcType=INTEGER},
      </if>
      <if test="auditUserId != null">
        audit_user_id = #{auditUserId,jdbcType=VARCHAR},
      </if>
      <if test="auditUserName != null">
        audit_user_name = #{auditUserName,jdbcType=VARCHAR},
      </if>
      <if test="auditDateTime != null">
        audit_date_time = #{auditDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isDeleted != null">
        is_deleted = #{isDeleted,jdbcType=INTEGER},
      </if>
      <if test="hrState != null">
        hr_state = #{hrState,jdbcType=INTEGER},
      </if>
    </set>
    where user_id = #{userId,jdbcType=VARCHAR}
  </update>

  <update id="updateByUserNoSelective" parameterType="com.system.domain.model.input.UsersInput">
    update system_users
    <set>

      <if test="tenantId != null">
        tenant_id = #{tenantId,jdbcType=VARCHAR},
      </if>
      <if test="account != null">
        account = #{account,jdbcType=VARCHAR},
      </if>
      <if test="password != null">
        password = #{password,jdbcType=VARCHAR},
      </if>
      <if test="userType != null">
        user_type = #{userType,jdbcType=CHAR},
      </if>
      <if test="administratorLevel != null">
        administrator_level = #{administratorLevel,jdbcType=INTEGER},
      </if>
      <if test="name != null">
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="nickName != null">
        nick_name = #{nickName,jdbcType=VARCHAR},
      </if>
      <if test="organizationUnitsId != null">
        organization_units_id = #{organizationUnitsId,jdbcType=VARCHAR},
      </if>
      <if test="organizationUnitsNo != null">
        organization_units_no = #{organizationUnitsNo,jdbcType=VARCHAR},
      </if>
      <if test="organizationUnitsName != null">
        organization_units_name = #{organizationUnitsName,jdbcType=VARCHAR},
      </if>
      <if test="departmentId != null">
        department_id = #{departmentId,jdbcType=VARCHAR},
      </if>
      <if test="departmentNo != null">
        department_no = #{departmentNo,jdbcType=VARCHAR},
      </if>
      <if test="departmentName != null">
        department_name = #{departmentName,jdbcType=VARCHAR},
      </if>
      <if test="stationId != null">
        station_id = #{stationId,jdbcType=VARCHAR},
      </if>
      <if test="stationNo != null">
        station_no = #{stationNo,jdbcType=VARCHAR},
      </if>
      <if test="stationName != null">
        station_name = #{stationName,jdbcType=VARCHAR},
      </if>
      <if test="jobId != null">
        job_id = #{jobId,jdbcType=VARCHAR},
      </if>
      <if test="jobNo != null">
        job_no = #{jobNo,jdbcType=VARCHAR},
      </if>
      <if test="jobName != null">
        job_name = #{jobName,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null">
        mobile = #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="telePhone != null">
        tele_phone = #{telePhone,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        email = #{email,jdbcType=VARCHAR},
      </if>
      <if test="sex != null">
        sex = #{sex,jdbcType=INTEGER},
      </if>
      <if test="avatar != null">
        avatar = #{avatar,jdbcType=VARCHAR},
      </if>
      <if test="idType != null">
        id_type = #{idType,jdbcType=INTEGER},
      </if>
      <if test="idNumber != null">
        id_number = #{idNumber,jdbcType=VARCHAR},
      </if>
      <if test="idAttachment != null">
        id_attachment = #{idAttachment,jdbcType=VARCHAR},
      </if>
      <if test="salt != null">
        salt = #{salt,jdbcType=CHAR},
      </if>
      <if test="theme != null">
        theme = #{theme,jdbcType=VARCHAR},
      </if>
      <if test="language != null">
        language = #{language,jdbcType=VARCHAR},
      </if>
      <if test="joinDate != null">
        join_date = #{joinDate,jdbcType=TIMESTAMP},
      </if>
      <if test="regIp != null">
        reg_ip = #{regIp,jdbcType=VARCHAR},
      </if>
      <if test="loginCount != null">
        login_count = #{loginCount,jdbcType=INTEGER},
      </if>
      <if test="lastLoginTime != null">
        last_login_time = #{lastLoginTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastLoginIp != null">
        last_login_ip = #{lastLoginIp,jdbcType=VARCHAR},
      </if>
      <if test="isAllowDelete != null">
        is_allow_delete = #{isAllowDelete,jdbcType=INTEGER},
      </if>
      <if test="displayOrder != null">
        display_order = #{displayOrder,jdbcType=INTEGER},
      </if>
      <if test="state != null">
        state = #{state,jdbcType=INTEGER},
      </if>
      <if test="createdUserId != null">
        created_user_id = #{createdUserId,jdbcType=VARCHAR},
      </if>
      <if test="createdUserName != null">
        created_user_name = #{createdUserName,jdbcType=VARCHAR},
      </if>
      <if test="createdDateTime != null">
        created_date_time = #{createdDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastUpdatedUserId != null">
        last_updated_user_id = #{lastUpdatedUserId,jdbcType=VARCHAR},
      </if>
      <if test="lastUpdatedUserName != null">
        last_updated_user_name = #{lastUpdatedUserName,jdbcType=VARCHAR},
      </if>
      <if test="lastUpdatedDateTime != null">
        last_updated_date_time = #{lastUpdatedDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="auditState != null">
        audit_state = #{auditState,jdbcType=INTEGER},
      </if>
      <if test="auditUserId != null">
        audit_user_id = #{auditUserId,jdbcType=VARCHAR},
      </if>
      <if test="auditUserName != null">
        audit_user_name = #{auditUserName,jdbcType=VARCHAR},
      </if>
      <if test="auditDateTime != null">
        audit_date_time = #{auditDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isDeleted != null">
        is_deleted = #{isDeleted,jdbcType=INTEGER},
      </if>
      <if test="hrState != null">
        hr_state = #{hrState,jdbcType=INTEGER},
      </if>
    </set>
    where user_no = #{userNo,jdbcType=VARCHAR}
  </update>

  <update id="updateByPrimaryKey" parameterType="com.system.domain.entity.Users">
    update system_users
    set tenant_id = #{tenantId,jdbcType=VARCHAR},
      account = #{account,jdbcType=VARCHAR},
      password = #{password,jdbcType=VARCHAR},
      user_type = #{userType,jdbcType=CHAR},
      administrator_level = #{administratorLevel,jdbcType=INTEGER},
      user_no = #{userNo,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      nick_name = #{nickName,jdbcType=VARCHAR},
      organization_units_id = #{organizationUnitsId,jdbcType=VARCHAR},
      organization_units_no = #{organizationUnitsNo,jdbcType=VARCHAR},
      organization_units_name = #{organizationUnitsName,jdbcType=VARCHAR},
      department_id = #{departmentId,jdbcType=VARCHAR},
      department_no = #{departmentNo,jdbcType=VARCHAR},
      department_name = #{departmentName,jdbcType=VARCHAR},
      station_id = #{stationId,jdbcType=VARCHAR},
      station_no = #{stationNo,jdbcType=VARCHAR},
      station_name = #{stationName,jdbcType=VARCHAR},
      job_id = #{jobId,jdbcType=VARCHAR},
      job_no = #{jobNo,jdbcType=VARCHAR},
      job_name = #{jobName,jdbcType=VARCHAR},
      mobile = #{mobile,jdbcType=VARCHAR},
      tele_phone = #{telePhone,jdbcType=VARCHAR},
      email = #{email,jdbcType=VARCHAR},
      sex = #{sex,jdbcType=INTEGER},
      avatar = #{avatar,jdbcType=VARCHAR},
      id_type = #{idType,jdbcType=INTEGER},
      id_number = #{idNumber,jdbcType=VARCHAR},
      id_attachment = #{idAttachment,jdbcType=VARCHAR},
      salt = #{salt,jdbcType=CHAR},
      theme = #{theme,jdbcType=VARCHAR},
      language = #{language,jdbcType=VARCHAR},
      join_date = #{joinDate,jdbcType=TIMESTAMP},
      reg_ip = #{regIp,jdbcType=VARCHAR},
      login_count = #{loginCount,jdbcType=INTEGER},
      last_login_time = #{lastLoginTime,jdbcType=TIMESTAMP},
      last_login_ip = #{lastLoginIp,jdbcType=VARCHAR},
      is_allow_delete = #{isAllowDelete,jdbcType=INTEGER},
      display_order = #{displayOrder,jdbcType=INTEGER},
      state = #{state,jdbcType=INTEGER},
      created_user_id = #{createdUserId,jdbcType=VARCHAR},
      created_user_name = #{createdUserName,jdbcType=VARCHAR},
      created_date_time = #{createdDateTime,jdbcType=TIMESTAMP},
      last_updated_user_id = #{lastUpdatedUserId,jdbcType=VARCHAR},
      last_updated_user_name = #{lastUpdatedUserName,jdbcType=VARCHAR},
      last_updated_date_time = #{lastUpdatedDateTime,jdbcType=TIMESTAMP},
      audit_state = #{auditState,jdbcType=INTEGER},
      audit_user_id = #{auditUserId,jdbcType=VARCHAR},
      audit_user_name = #{auditUserName,jdbcType=VARCHAR},
      audit_date_time = #{auditDateTime,jdbcType=TIMESTAMP},
      is_deleted = #{isDeleted,jdbcType=INTEGER},
      hr_state = #{hrState,jdbcType=INTEGER}
    where user_id = #{userId,jdbcType=VARCHAR}
  </update>




  <!-- 表名 -->
  <sql id="tableName">
    system_users
  </sql>
  <!-- 表名对外引用 -->
  <sql id="tableNameOut">
    <bind name="tableName" value="'system_users'"/>
  </sql>
  <!-- 主键 -->
  <sql id="pkId">
    <bind name="pkName" value="'user_id'"/>
  </sql>

  <!-- 批量删除-->
  <update id="delete" parameterType="String">
    <include refid="tableNameOut"></include>
    <include refid="pkId"></include>
    <include refid="SystemBasicMapper.deleteSql"></include>
  </update>
  <!-- 批量审核-->
  <update id="audit" parameterType="String">
    <include refid="tableNameOut"></include>
    <include refid="pkId"></include>
    <include refid="SystemBasicMapper.updateAuditSql"></include>
  </update>

  <!--动态sql分页列表-->
  <select id="list" resultMap="BaseResultMap" parameterType="com.domain.model.PageData">
    SELECT system_users.* FROM
    <include refid="tableName"></include>
    <include refid="SystemBasicMapper.retrieveSql"></include>
    GROUP BY system_users.user_id
    ORDER BY field(system_users.state, 1, 0),system_users.hr_state,system_users.last_updated_date_time DESC
  </select>

  <select id="getList" resultMap="BaseResultMap" parameterType="com.domain.model.PageData">
    SELECT system_users.* FROM
    <include refid="tableName"></include>
    <include refid="SystemBasicMapper.retrieveSql"></include>
    GROUP BY system_users.user_id
    ORDER BY field(system_users.state, 1, 0),system_users.hr_state,system_users.last_updated_date_time DESC
  </select>

  <select id="findByPkId" parameterType="com.domain.model.PageData" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from
    <include refid="tableName"></include>
    where user_id = #{id,jdbcType=VARCHAR} AND is_deleted = 0
  </select>

  <select id="findByAccount" resultMap="BaseResultMap" parameterType="com.system.domain.model.LoginInfo">
    SELECT
    <include refid="Base_Column_List"/>
    FROM
    <include refid="tableName"></include>
    WHERE account = #{useraccount,jdbcType=VARCHAR}
  </select>

  <select id="findByAccountIgnoreCase" resultMap="BaseResultMap" parameterType="com.system.domain.model.LoginInfo">
    SELECT
    <include refid="Base_Column_List"/>
    FROM
    <include refid="tableName"></include>
    WHERE UPPER (account) = #{useraccount,jdbcType=VARCHAR}
  </select>

  <select id="getUserByUserNo" resultMap="BaseResultMap">
    SELECT
    <include refid="Base_Column_List"/>
    FROM
    <include refid="tableName"></include>
    WHERE user_no = #{userNo,jdbcType=VARCHAR}
  </select>

  <select id="getpasswordByUserId" resultMap="BaseResultMap" parameterType="com.system.domain.model.LoginInfo">
  SELECT
    <include refid="Base_Column_List"/>
    FROM
    <include refid="tableName"></include>
    WHERE user_id=#{userId,jdbcType=VARCHAR}
  </select>

  <select id="findUserByUserNo" resultMap="BaseResultMap" >
    SELECT
    <include refid="Base_Column_List"/>
    FROM
    <include refid="tableName"></include>
    WHERE user_no=#{userNo,jdbcType=VARCHAR} and state=1 and is_deleted = 0
  </select>

  <!--修改生效状态-->
  <update id="stateUpdate" parameterType="com.domain.model.PageData">
    update <include refid="tableName"></include>
    set state = #{state,jdbcType=INTEGER}
    where 1=1 AND is_deleted=0 AND user_id = #{id,jdbcType=VARCHAR}
  </update>


  <!--根据userid-->
  <select id="selbyuid" parameterType="com.domain.model.PageData" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from <include refid="tableName"></include>
    where user_id = #{userId,jdbcType=VARCHAR} AND is_deleted = 0
  </select>






  <!--判断账号是否存在-->
  <select id="isExitAccount" parameterType="com.system.domain.model.input.UsersInput" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from
    <include refid="tableName"></include>
    where user_id != #{userId,jdbcType=VARCHAR} AND is_deleted = 0 AND account = #{account,jdbcType=VARCHAR}
  </select>

  <!--批量开户-->
  <update id="openaccountbatch" parameterType="com.system.domain.model.input.UsersInput">
    update <include refid="tableName"></include>
    set state = #{state,jdbcType=INTEGER} , account = user_no, password = #{password,jdbcType=VARCHAR},salt = #{salt,jdbcType=CHAR},
    last_updated_user_id = #{lastUpdatedUserId,jdbcType=INTEGER},
    last_updated_user_name = #{lastUpdatedUserName,jdbcType=VARCHAR},
    last_updated_date_time = #{lastUpdatedDateTime,jdbcType=TIMESTAMP}
    where 1=1 AND is_deleted=0 AND user_no = #{userNo,jdbcType=VARCHAR}
  </update>

  <!--根据用户获得所在的立项中或者执行中的项目-->
  <select id="findProjectByUserNO" resultType="Integer">
    SELECT COUNT(1) FROM project p INNER JOIN project_team pt ON p.project_id = pt.project_id
    WHERE 1=1
    and p.is_deleted=0
    and pt.is_deleted=0
    AND p.state IN (0, 1)
    AND pt.user_no =  #{userNo,jdbcType=VARCHAR}
  </select>

</mapper>