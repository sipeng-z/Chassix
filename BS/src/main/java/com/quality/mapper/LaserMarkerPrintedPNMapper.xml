<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.quality.mapper.LaserMarkerPrintedPNMapper">
  <resultMap id="BaseResultMap" type="com.quality.model.LaserMarkerPrintedPN">
    <result column="ItemNO" jdbcType="INTEGER" property="itemno" />
    <result column="Machine_NO" jdbcType="VARCHAR" property="machineNo" />
    <result column="SO_Number" jdbcType="VARCHAR" property="soNumber" />
    <result column="Hand_Sign" jdbcType="CHAR" property="handSign" />
    <result column="DM_Content" jdbcType="VARCHAR" property="dmContent" />
    <result column="Daily_Count" jdbcType="INTEGER" property="dailyCount" />
    <result column="FLC_Count" jdbcType="INTEGER" property="flcCount" />
    <result column="Part_Type" jdbcType="VARCHAR" property="partType"/>
    <result column="Asked_Time" jdbcType="TIMESTAMP" property="askedTime"/>
    <result column="Insert_Time" jdbcType="TIMESTAMP" property="insertTime"/>
    <result column="Code_Level" jdbcType="INTEGER" property="codeLevel"/>
    <result column="Matching_Level" jdbcType="INTEGER" property="matchingLevel"/>
    <result column="VC_Content" jdbcType="VARCHAR" property="vcContent" />
    <result column="Batch_ID" jdbcType="VARCHAR" property="batchId" />
  </resultMap>
  <select id="selectBySearch" parameterType="com.quality.model.LaserMarkerPrintedPN" resultMap="BaseResultMap">
    select
    ItemNO, Machine_NO, SO_Number, Hand_Sign, DM_Content, Daily_Count, FLC_Count, Part_Type,
    Asked_Time, Insert_Time, VC_Content,Batch_ID
    from dbo.Laser_marker_printed_PN
    where DM_Content like concat(#{dmContent},'%')
  </select>
  <select id="countBySearch" parameterType="com.quality.model.LaserMarkerPrintedPN" resultType="java.lang.Integer">
    select count(*) from dbo.Laser_marker_printed_PN
    where DM_Content like concat(#{dmContent},'%')
  </select>
    <select id="getAll" resultMap="BaseResultMap">
        select
        ItemNO, Machine_NO, SO_Number, Hand_Sign, DM_Content, Daily_Count, FLC_Count, Part_Type,
        Asked_Time, Insert_Time, VC_Content,Batch_ID
        from dbo.Laser_marker_printed_PN where DateDiff(DD,Insert_Time,GETDATE()) <![CDATA[ <= ]]> 7 order by Insert_Time desc
    </select>
</mapper>